%html
    %head
        %title Asterism

        :sass
            *
                margin: 0
                padding: 0

            $base: 1.1250rem

            body
                font-size: $base
                line-height: 2 * $base

            h1
                font-size: 3.5 * $base
                line-height: 4 * $base
                margin-top: 2 * $base
                margin-bottom: 2 * $base

            h2
                font-size: 1.8 * $base
                line-height: 2 * $base
                margin-top: 1 * $base
                margin-bottom: 1 * $base

            h3
                font-size: 1.3 * $base
                line-height: 1 * $base
                margin-top: 0 * $base
                margin-bottom: 1 * $base

            h4
                font-size: 1 * $base
                font-weight: bold
                margin-top: 0
                margin-bottom: 0

            p, ul, pre
                margin-top: 0
                margin-bottom: 1 * $base

            small
                font-size: 0.666 * $base

            h1, h2, h3
                font-family: "myriad-pro-condensed", sans-serif

            h4
                font-family: "myriad-pro", sans-serif
                font-weight: 500

            p, li
                font-family: "myriad-pro", sans-serif

            p
                code
                    background-color: #EFEFEF
                    border-radius: 3px
                    padding: 3px

            pre, code
                font-family: "droid-sans-mono", mono-spaced

                font-size: 0.9 * $base
                line-height: 1.5 * $base

            pre
                background-color: #EFEFEF

                padding: 0.5 * $base

                overflow-x: scroll

            header, section, footer
                padding: 0.5 * $base 1 * $base

            #content
                margin: auto
                max-width: 40 * $base

            article
                margin-bottom: 3 * $base

            #header
                background-color: darkblue
                color: white

                text-align: center

            li.argument
                list-style: none
                padding-left: 0.5 * $base

            li.argument .argument-name
                display: block
                margin-left: -0.5 * $base

            code.argument-name
                font-family: "myriad-pro", sans-serif
                font-style: italic
                font-size: $base

                background: none
                padding: 0

        %style
            = Pygments.css(:style => "default")

        %script{src: "//use.typekit.net/qse8qcf.js", type: "text/javascript"}
        %script{type: "text/javascript"}
            try{Typekit.load();}catch(e){}

    %body
        %header#header
            %h1 Asterism
            %h2.subtitle
                A simple functional toolbelt for Objective-C

        %div#content
            %section#section-about
                %p
                    Asterism is a yet another functional toolbelt for
                    Objective-C. It tries to be typesafe and elegant.

                %h3 How to install
                %p
                    The recommended way to install Asterism is using the
                    excellent CocoaPods:

                %pre
                    - guide = "pod 'Asterism'"
                    %code= Pygments.highlight(guide, :options => {:lexer => 'ruby', :nowrap => true} )

            %section#section-documentation-all
                - docs.each do |methods|
                    - groups = methods.group_by{|m| m[:name]}
                    - groups.each_pair do |(name, methods)|
                        %h3{ :id => "method-#{name}" }= name

                        - methods.each do |method|
                            %article{ :id => "#{method[:signature]}" }

                                %pre
                                    - signature = method[:signature].sub("ASTERISM_OVERLOADABLE ", "")
                                    %code= Pygments.highlight(signature, :options => {:lexer => 'objc', :nowrap => true} )

                                %p
                                    :markdown
                                        #{method[:tomdoc].description}

                                %ul
                                    - method[:tomdoc].arguments.each do |arg|
                                        %li.argument
                                            %code.argument-name= arg.name
                                            :markdown
                                                #{arg.description}

                                - unless method[:tomdoc].examples.empty?
                                    %h4 Examples
                                    %pre
                                        - examples = method[:tomdoc].examples.join("\n\n")
                                        %code= Pygments.highlight(examples, :options => {:lexer => 'objc', :nowrap => true} )

                                - method[:tomdoc].returns.each do |ret|
                                    %p
                                        :markdown
                                            #{ret}
